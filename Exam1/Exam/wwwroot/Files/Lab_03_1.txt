1. Собрать топологию по рисунку Lab_03_1.txt


2. Назначить на линке маршрутизатора адреса из сети 192.168.0.0/24


3. Назначить маршрутизаторам имена, соответственно, R1 и R2


4. Включить ftp сервер на маршрутизаторе AR1:

[R1]ftp server enable


5. Настроить рабочий каталог сервера:

[R1]set default ftp-directory flash:/


6. Настроить аккаунт для пользователя сервера:

[R1]aaa

[R1-aaa]local-user ftpuser password cipher Password

- последнее слово команды
- собственно пароль


[R1-aaa]local-user ftpuser service-type ftp

[R1-aaa]local-user ftpuser privelege level 15
- всего уровней привелегий 15, 
так что данный юзер будет иметь 
администраторские права на доступ к файловой системе


[R1-aaa]local-user ftpuser ftp-directory flash:/

- пользователям можно задавать персональные каталоги ля работы с ftp сервером


7. Проверить настройки:
display ftp-server
display ftp-users


8. Включить захват трафика на линке между маршрутизаторами


9. Выполнить подключение к серверу с маршрутизатора 
AR2:

<R2>ftp 192.168.0.1
[R1-ftp]


10. Изучите перехваченную попытку аутентификации
- в каком виде передаются аутентификационные данные?


11. По знаку "?" ознакомится с возможностями встроенного ftp сервера


12. На AR1 повторить пункт 7
- что изменилось?


13. На R1 сохранить конфигурацию


14. На R2 скачать конфигурацию с R1:

[R1-ftp]get vrpcfg.zip


- обратить внимание на режим передачи


15. Поменять режим передачи на бинарный и повторить передачу

[R1-ftp]binary


16. Перезагрузить R2 командой reboot

- конфигурацию при перезагрузке не сохранять


17. Убедиться, что конфигурация применена и у AR2 теперь имя и IP адрес AR1, 
а также на нем настроен ftp сервер.


18. Стереть файл конфигурации на AR2 и перезагрузить его


19. Восстановить на AR2 имя и IP адрес


20. Сохранить конфигурацию на AR2


21. Выполнить подключение по ftp с AR2 на AR1


22. Стереть файл конфигурации на AR1


23. Закачать файл конфигурации с AR2 на AR1:

[R1-ftp]put vrpcfg.zip


24. Убедиться на AR1, что файл конфигурации присутствует.
